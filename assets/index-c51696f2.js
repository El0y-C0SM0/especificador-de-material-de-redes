var Z=Object.defineProperty;var G=(n,e,t)=>e in n?Z(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>(G(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();class z{constructor(e,t,a=-4144959,i=4144959,s=0,r=!0,l=1){u(this,"label");u(this,"id");u(this,"min");u(this,"max");u(this,"valueDefault");u(this,"nullable");u(this,"step");u(this,"$element");this.label=e,this.id=t,this.min=a,this.max=i,this.valueDefault=s,this.nullable=r,this.step=l,this.$element=$(this.html)}get html(){return`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          <input id="${this.id}" type="number" min="${this.min}" max="${this.max}" step="${this.step}" value="${this.valueDefault}">
        </label>
      </div>
    `}get isValid(){const e=this.value;return e===""&&this.nullable?!0:!(e<this.min||e>this.max)}onUpdate(e){this.$element.on("change",()=>{this.isValid&&e(this.value)})}get value(){}}class U extends z{get value(){return parseInt($("#"+this.id).val())}}class P extends z{get value(){return parseFloat($("#"+this.id).val())}}class J{constructor(e,t,a=!1){u(this,"label");u(this,"id");u(this,"valueDefault");u(this,"$element");this.label=e,this.id=t,this.valueDefault=a,this.$element=$(this.html)}get html(){return`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          <input id='${this.id}' type="checkbox">
        </label>
      </div>
    `}get value(){return document.getElementById(this.id).checked}}class X{constructor(e,t,a,i=void 0){u(this,"label");u(this,"itens");u(this,"keyDefault");u(this,"id");u(this,"$element");this.label=e,this.itens=t,this.id=a,this.keyDefault=i,this.$element=$(this.html)}get html(){let e=`<select id="${this.id}">`;for(const[t,a]of Object.entries(this.itens)){let i=this.keyDefault===t?"selected":"";e+=`<option value="${t}" ${i}>${a}</option>`}return e+="</select>",`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          ${e}
        </label>
      </div>
    `}get value(){const e=$("#"+this.id);return this.itens[e.val()]}}var q;(function(n){n.AZUL_CAT6="azul CAT6",n.VERMELHO_CAT6="vermelho CAT6",n.AMARELO_CAT6="amarelo CAT6",n.BRANCO_CAT6="branco CAT6",n.CINZA_CAT7="cinza CAT7"})(q||(q={}));var y;(function(n){n.CAT6="Conector femêa CAT6"})(y||(y={}));class I{static toTipoPatchCord(e){switch(e){case I.CFTV:return q.BRANCO_CAT6;case I.REDE:return q.AZUL_CAT6;case I.VOIP:default:return q.AMARELO_CAT6}}static toTipoPatchCable(e){switch(e){case I.CFTV:return q.VERMELHO_CAT6;case I.REDE:return q.AZUL_CAT6;case I.VOIP:default:return q.AMARELO_CAT6}}}I.REDE="Rede";I.CFTV="CFTV";I.VOIP="VoIP";class C{static getTipo(e,t){return e==M.FOMMIG_50_125?C.LC_DUPLO_MM_50_125:C.LC_SIMPLES_SM_9_125}}C.LC_DUPLO_MM_50_125="LC duplo MM 50x125µm";C.LC_SIMPLES_MM_50_125="LC simples MM 50x125µm";C.LC_DUPLO_SM_9_125="LC duplo SM 9x125µm";C.LC_SIMPLES_SM_9_125="LC simples SM 9x125µm";var v;(function(n){n.PATCH_PANEL_24="Patch panel 24 portas",n.PATCH_PANEL="Patch panel",n.SWITCH_24="Switch 24 portas",n.DIO_24="DIO 24 portas",n.DIO_24_4="DIO 24 portas 4 cabos",n.TERMINADOR_OPTICO="Terminador óptico",n.SVR_24="SVR 24 portas",n.EXAUSTOR="Exaustor",n.NO_BREAK="No break"})(v||(v={}));var g;(function(n){n.BANDEJA_FIXA="Bandeja fixa",n.BANDEJA_DESLIZANTE="Bandeja deslizante",n.ORGANIZADOR_FRONTAL="Organizador frontal",n.BANDEJA_DE_EMENDA_12="Bandeja de emenda 12 fibras"})(g||(g={}));var p;(function(n){n.METRO="metro",n.CAIXA="caixa",n.UNIDADE="unidade"})(p||(p={}));var L;(function(n){n.ETIQUETAS_IDENTIFICACAO="Etiquetas de identificação",n.ABRACADEIRAS="Abraçadeiras",n.PORCAS_GAIOLAS="Porcas gaiolas"})(L||(L={}));class M{static getTipoFibra(e){return e<=300?M.FOMMIG_50_125:M.FOSM_9_125}}M.FOMMIG_50_125="FOMMIG 50 x 125µm";M.FOSM_9_125="FOSM 9 x 125µm";class k extends Error{constructor(e){super(e),this.name="DistanciaInvalidaError"}}class W extends Error{constructor(e,t){super(e),this.altura=0,this.altura=t,this.name="DistanciaInvalidaError"}}class D{constructor(e,t,a){this.quantidade=e,this.unidade=t,this.tipo=a}}class Q{constructor(e,t){this.quantidade=e,this.alturaUnitaria=t}}class S extends Q{constructor(e,t,a){super(t,a),this.tipo=e}}class V extends Q{constructor(e,t,a){super(t,a),this.tipo=e}}class F{constructor(e,t=!1){var a,i,s,r;this.equipamentos=new Map([...e]),this.componentes=new Map,this.micelaneas=new Map,t||e.set(v.EXAUSTOR,new S(v.EXAUSTOR,1,1)),this.componentes.set(g.BANDEJA_DESLIZANTE,new V(g.BANDEJA_DESLIZANTE,1,1)),this.componentes.set(g.BANDEJA_FIXA,new V(g.BANDEJA_FIXA,1,1));let l=(i=(a=this.equipamentos.get(v.DIO_24))===null||a===void 0?void 0:a.quantidade)!==null&&i!==void 0?i:0;this.componentes.set(g.BANDEJA_DE_EMENDA_12,new V(g.BANDEJA_DE_EMENDA_12,l,0));let d=0;this.equipamentos.get(v.SWITCH_24)!=null&&(d=(r=(s=this.equipamentos.get(v.SWITCH_24))===null||s===void 0?void 0:s.quantidade)!==null&&r!==void 0?r:0,this.equipamentos.set(v.PATCH_PANEL_24,new S(v.PATCH_PANEL_24,d,1)),this.componentes.set(g.ORGANIZADOR_FRONTAL,new V(g.ORGANIZADOR_FRONTAL,d,1)),this.jumperCables=new D(d-1,p.UNIDADE,q.CINZA_CAT7));let b=this.alturaTotal;if(b>48)throw new W(`Tamanho do rack alcançou ${b} e 
                execedeu o limite recomendavel de 44U, 
                que deixaria 4 para expandir`,b);this.defineMicelaneas(d),Object.freeze(this)}defineMicelaneas(e){this.micelaneas.set(L.ETIQUETAS_IDENTIFICACAO,new D(e*24*2+e*2+e-1,p.UNIDADE,L.ETIQUETAS_IDENTIFICACAO)),this.micelaneas.set(L.PORCAS_GAIOLAS,new D(this.alturaTotal*4,p.UNIDADE,L.PORCAS_GAIOLAS))}static arredondaAltura(e){return e<=12?e+e%2:Math.ceil(e/4)*4}get alturaTotal(){let e=[...this.equipamentos.values(),...this.componentes.values()].reduce((t,a)=>t+a.alturaUnitaria,0)*1.5;return F.arredondaAltura(e)}get altura(){return this.alturaTotal}}F.tamanhoMaximo=48;class K{constructor(e){this.patchCords=new Map,this.micelaneas=new Map,this.pontosTelecom=e}get pontosTelecom(){return this._pontosTelecom}set pontosTelecom(e){this._pontosTelecom=e;let t=0,a=0;e.forEach(i=>{t+=i.quantidade,a+=i.quantidade;let s=I.toTipoPatchCord(i.tipo);this.patchCords.set(s,new D(i.quantidade,p.UNIDADE,s))}),this.tomadasFemeas=new D(a,p.UNIDADE,y.CAT6),this.micelaneas.set(L.ETIQUETAS_IDENTIFICACAO,new D(a+a/2,p.UNIDADE,L.ETIQUETAS_IDENTIFICACAO))}get numeroDiciplinas(){return this.pontosTelecom==null?0:this.pontosTelecom.size}get numeroConectores(){return this.tomadasFemeas==null?0:this.tomadasFemeas.quantidade}}class j{constructor(e,t,a,i=!1){if(this.areaDeTrabalho=e,this.rackAberto=i,this.equipamentosAtivos=new Map,this.pigtails=new Map,this.cordoes=new Map,this.acopladores=new Map,this.micelaneas=new Map,t>90)throw new k("Distancia dos pontos de telecom até a sala de telecom não deve exeder 90 metros");this.comprimentoMalhaHorizontal=t,this.numeroPiso=a,this.defineAtivos()}save(){if(this.comprimentoMalhaHorizontal>90)throw new k("Distancia dos pontos de telecom até a sala de telecom não deve exeder 90 metros");this.defineAtivos()}defineAtivos(){this.equipamentosAtivos.set(v.SWITCH_24,new S(v.SWITCH_24,Math.ceil(this.areaDeTrabalho.numeroConectores/24),1));let e,t;this.fibrasOpticasRecebidas!=null&&(this.numeroFibras<=8?(this.equipamentos.set(v.TERMINADOR_OPTICO,new S(v.TERMINADOR_OPTICO,1,0)),e=C.getTipo(this.fibrasOpticasRecebidas.tipo,!0),t=this.numeroFibras/2):(this.equipamentos.set(v.DIO_24,new S(v.DIO_24,Math.ceil(this.numeroFibras/24),1)),e=C.getTipo(this.fibrasOpticasRecebidas.tipo,!1),t=this.numeroFibras),this.defineAcopladores(e,t))}defineAcopladores(e,t){this.pigtails.set(e,new D(t,p.UNIDADE,e)),this.cordoes.set(e,new D(t,p.UNIDADE,e)),this.acopladores.set(e,new D(t,p.UNIDADE,e))}get numeroFibras(){return this.areaDeTrabalho.numeroDiciplinas*4}get diciplinas(){let e=new Set;return this.areaDeTrabalho.pontosTelecom.forEach(t=>e.add(t.tipo)),e}get jumperCables(){var e;if(((e=this.equipamentosAtivos.get(v.SWITCH_24))===null||e===void 0?void 0:e.quantidade)==null)return;let a=this.racks.reduce((i,s)=>{var r,l;return i+((l=(r=s==null?void 0:s.jumperCables)===null||r===void 0?void 0:r.quantidade)!==null&&l!==void 0?l:0)},0);return new D(a,p.UNIDADE,q.CINZA_CAT7)}get equipamentos(){let e=new Map;return this.racks.forEach(t=>{t.equipamentos.forEach(a=>{let i=e.get(a.tipo);i!==void 0&&(i.quantidade+=a.quantidade,e.set(a.tipo,a))})}),e}get patchCables(){let e=new Map;return this.areaDeTrabalho.pontosTelecom.forEach(t=>{let a=I.toTipoPatchCable(t.tipo);e.set(a,new D(t.quantidade,p.UNIDADE,a))}),e}get racks(){let e=[];try{return[new F(this.equipamentosAtivos,this.rackAberto)]}catch(t){let a=1;for(;F.arredondaAltura(t.altura/a)<48;a++);const i=F.arredondaAltura(t.altura/a);let s=i,r=new Map;this.equipamentosAtivos.forEach(l=>{s-l.quantidade<0?(r.set(l.tipo,new S(l.tipo,s,l.alturaUnitaria)),e.push(new F(r)),r.clear(),r.set(l.tipo,new S(l.tipo,-(s-l.quantidade),l.alturaUnitaria)),s=i+s-l.quantidade):r.set(l.tipo,l)}),e.push(new F(r))}return e}}class Y extends j{constructor(e,t,a,i,s,r=[],l=0,d=!1,b=12,_=M.FOSM_9_125){super(e,t,a,d=d),this.salasDeTelecom=s,this.salasDeEquipamento=r,this.distanciaSEQ=l,this.alturaAndares=i,this.defineFibrasOpticas(b,_),this.defineAtivos()}save(){super.save(),console.log("Meu pauuuuuuuuuu"),this.defineFibrasOpticas(),this.defineAtivos()}get tipoFibra(){var e,t,a,i;let s=0;if(this.salasDeEquipamento==null)return M.FOMMIG_50_125;if(((e=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||e===void 0?void 0:e.length)==0){let r=(t=this===null||this===void 0?void 0:this.salasDeTelecom)===null||t===void 0?void 0:t.slice().sort((l,d)=>l.numeroPiso-d.numeroPiso);s=Math.max(...r.map(l=>Math.abs(this.numeroPiso-l.numeroPiso+1)*this.alturaAndares))}else if(((a=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||a===void 0?void 0:a.length)!=0){let r=(i=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||i===void 0?void 0:i.slice().sort((l,d)=>l.distanciaSEQ-d.distanciaSEQ);s=Math.max(...r.map(l=>l.distanciaSEQ))}return M.getTipoFibra(s)}get diciplinas(){var e,t;let a=super.diciplinas;return(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(i=>{i.diciplinas.forEach(s=>a.add(s))}),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(i=>{i.diciplinas.forEach(s=>a.add(s))}),a}get numeroFibras(){var e,t;let a=0;return(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(i=>a+=i.numeroFibras),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(i=>a+=i.numeroFibras),a+=super.numeroFibras,a==0?super.numeroFibras:a}get fibraBackbone(){let e=0;return this.salasDeTelecom.slice().sort((i,s)=>i.numeroPiso-s.numeroPiso).forEach(i=>{e+=Math.abs(this.numeroPiso-i.numeroPiso+1)*this.alturaAndares}),this.salasDeEquipamento.slice().sort((i,s)=>i.distanciaSEQ-s.distanciaSEQ).forEach(i=>e+=i.distanciaSEQ),new D(e,p.METRO,this.tipoFibra)}defineAtivos(){var e,t;if(super.defineAtivos(),this.equipamentos.get(v.TERMINADOR_OPTICO)!=null&&this.equipamentos.delete(v.TERMINADOR_OPTICO),this.diciplinas.has(I.CFTV)){let i=0;(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(s=>{s.diciplinas.has(I.CFTV)&&(i+=2)}),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(s=>{s.diciplinas.has(I.CFTV)&&(i+=1)}),this.equipamentosAtivos.set(v.SVR_24,new S(v.SVR_24,Math.ceil(i/24),2))}this.equipamentosAtivos.set(v.DIO_24_4,new S(v.DIO_24,Math.ceil(this.numeroFibras/24),1));let a=C.getTipo(this.tipoFibra,!1);this.defineAcopladores(a,this.numeroFibras),this.equipamentosAtivos.set(v.DIO_24_4,new S(v.DIO_24_4,Math.ceil(this.numeroFibras/24)+1,1)),this.fibrasOpticasRecebidas!=null&&(a=C.getTipo(this.fibrasOpticasRecebidas.tipo,!1),this.defineAcopladores(a,this.fibrasOpticasRecebidas.quantidade))}defineFibrasOpticas(e=12,t=M.FOSM_9_125){let a=this.fibraBackbone.tipo;this.salasDeTelecom.forEach(i=>{i.fibrasOpticasRecebidas=new D(i.numeroFibras,p.UNIDADE,a),i.save(),console.log(i.pigtails)}),this.salasDeEquipamento.forEach(i=>{i.fibrasOpticasRecebidas=new D(i.numeroFibras,p.UNIDADE,a),i.save()}),this.fibrasOpticasRecebidas=new D(e,p.UNIDADE,t)}}class B{constructor(e){u(this,"numPavimento");u(this,"rackAbertoChecbox");u(this,"malhaHorizontalInput");u(this,"pontoRedeInput");u(this,"pontoCftvInput");u(this,"pontoVoipInput");u(this,"id");this.numPavimento=e,this.rackAbertoChecbox=new J("Rack aberto:",`rack-aberto-${e}`,!1),this.malhaHorizontalInput=new P("Comprimento da malha horizontal:",`malha-horizontal-${e}`,1,90,10,!1,void 0),this.pontoRedeInput=new P("Pontos de rede:",`pontos-rede-${e}`,0,void 0,10,!1,void 0),this.pontoCftvInput=new P("Pontos de CFTV:",`pontos-cftv-${e}`,0,void 0,10,!1,void 0),this.pontoVoipInput=new P("Pontos de VoIP:",`pontos-voip-${e}`,0,void 0,10,!1,void 0),this.id=`pavimento-${e}`}get html(){return`
            <div id=${this.id} class="pavimento">
                <h3>Pavimento ${this.numPavimento+1}</h3>
                ${this.rackAbertoChecbox.html}
                ${this.malhaHorizontalInput.html}
                <div id="ponto-telecom-pavimento-${this.numPavimento}" class="pontos-telecom">
                    ${this.pontoRedeInput.html}
                    ${this.pontoCftvInput.html}
                    ${this.pontoVoipInput.html}
                </div>
            </div>
        `}get $element(){let e=$(`
            <div id=${this.id} class="pavimento">
                <h3>Pavimento ${this.numPavimento+1}</h3>
            </div>
        `);e.addClass("pavimento"),e.append(this.rackAbertoChecbox.$element),e.append(this.malhaHorizontalInput.$element);let t=$(`
            <div id="pontos-telecom-pavimento-${this.numPavimento}" class="pontos-telecom">
            </div>
        `);return t.append(this.pontoRedeInput.$element),t.append(this.pontoCftvInput.$element),t.append(this.pontoVoipInput.$element),e.append(t),e}get isValid(){let e=!0;return e=e&&this.malhaHorizontalInput.isValid,e=e&&this.pontoRedeInput.isValid,e=e&&this.pontoCftvInput.isValid,e=e&&this.pontoVoipInput.isValid,e}carregarSalaTelecom(){if(!this.isValid)return;const e=this.rackAbertoChecbox.value,t=this.malhaHorizontalInput.value,a=this.pontoRedeInput.value,i=this.pontoCftvInput.value,s=this.pontoVoipInput.value;try{let r=new Map;a>0&&r.set(I.REDE,new D(a,p.UNIDADE,I.REDE)),i>0&&r.set(I.CFTV,new D(i,p.UNIDADE,I.CFTV)),s>0&&r.set(I.VOIP,new D(s,p.UNIDADE,I.VOIP));let l=new K(r);return new j(l,t,this.numPavimento,e)}catch(r){console.error(r)}}}class x{constructor(e){u(this,"alturaAndarInput");u(this,"numeroPavimentosInput");u(this,"pavimentoPrincipalInput");u(this,"numeroFibrasRecebidasInput");u(this,"tipoFibraRecebidasSelectField");u(this,"numeroSEQ");u(this,"id");u(this,"pavimentos");this.numeroSEQ=e,this.id=`seq-${e}`,this.pavimentos=[new B(0)],this.alturaAndarInput=new P("Altura dos andares:","altura-andar-input",1,10,5,!1,1),this.numeroFibrasRecebidasInput=new U("Número de fibras recebidas:","numero-fibras-recebidas-input",4,24,4,!1,4),this.tipoFibraRecebidasSelectField=new X("Tipo de fibra recebida:",{[M.FOMMIG_50_125]:"Fibra óptica Multimodo 50 x 125µm",[M.FOSM_9_125]:"Fibra óptica Monomodo 9 x 125µm"},"tipo-fibra-recebidas-select-field",M.FOSM_9_125),this.numeroPavimentosInput=new U("Número de pavimentos:","numero-pavimentos-input",1,24,1,!1,void 0),this.pavimentoPrincipalInput=new U("Pavimento principal:","pavimento-principal-input",1,1,1,!1,1),this.numeroPavimentosInput.onUpdate(t=>{let a=$(`#${this.id} .pavimento`);for(;this.pavimentos.length>t;)this.pavimentos.pop(),a.last().remove();for(;this.pavimentos.length<t;){let i=new B(this.pavimentos.length);this.pavimentos.push(i),$(`#${this.id} .seq-pavimentos`).append($(i.html))}$(`#${this.id} #pavimento-principal-input`).attr("max",t),parseInt($(`#${this.id} #pavimento-principal-input`).val())>t&&$(`#${this.id} #pavimento-principal-input`).val(t),$("body")[0].offsetHeight})}get html(){return`
            <article id="${this.id}" class="seq">
                <h2>Sala de equipamentos ${this.numeroSEQ>=0?this.numeroSEQ+1:""}</h2>
                <div class="seq-form">
                    ${this.tipoFibraRecebidasSelectField.html}
                    ${this.numeroFibrasRecebidasInput.html}
                    ${this.alturaAndarInput.html}
                    ${this.numeroPavimentosInput.html}
                    ${this.pavimentoPrincipalInput.html}
                </div>
                <div class="seq-pavimentos">
                    ${this.pavimentos.map(e=>e.html).join(`
`)}
                </div>
            </article>
        `}get $element(){let e=$(`<section id="${this.id}" class="seq"></section>`),t=$(`<h2>Sala de equipamentos ${this.numeroSEQ>=0?this.numeroSEQ+1:""}</h2>`);e.append(t);let a=$('<div class="seq-form"></div>');a.append(this.tipoFibraRecebidasSelectField.$element),a.append(this.numeroFibrasRecebidasInput.$element),a.append(this.alturaAndarInput.$element),a.append(this.numeroPavimentosInput.$element),a.append(this.pavimentoPrincipalInput.$element),e.append(a);let i=$('<div class="seq-pavimentos"></div>');return this.pavimentos.forEach(s=>i.append(s.$element)),e.append(i),e}get isValid(){let e=!0;return e=e&&this.numeroFibrasRecebidasInput.isValid,e=e&&this.alturaAndarInput.isValid,e=e&&this.numeroPavimentosInput.isValid,e=e&&this.pavimentoPrincipalInput.isValid&&this.pavimentoPrincipalInput.value<=this.numeroPavimentosInput.value,e=e&&this.pavimentos.every(t=>t.isValid),e}carregarSalaEquipamentos(){if(!this.isValid)return;let e=this.pavimentos.map(d=>d.carregarSalaTelecom()),t=[];$("#seq-principal-input")!=null&&parseInt($("#seq-principal-input").val())-1===this.numeroSEQ&&(t=[]);const a=this.alturaAndarInput.value,i=this.pavimentoPrincipalInput.value-1,s=this.numeroFibrasRecebidasInput.value,r=this.tipoFibraRecebidasSelectField.value;let l=e.splice(i,1)[0];return new Y(l.areaDeTrabalho,l.comprimentoMalhaHorizontal,i,a,e,t,0,l.rackAberto,s,r)}}class m{constructor(e,t,a,i){u(this,"titulo");u(this,"descricao");u(this,"id");u(this,"linhas");this.titulo=e,this.id=t,this.descricao=a,this.linhas=i}get html(){return`
      <article id="${this.id}">
        <h2>${this.titulo}</h2>
        <p>${this.descricao}</p>
        <table>
          <thead>
            <th>Nome</th>
            <th>Quantidade</th>
            <th>Unidade</th>
          </thead>
          <tbody>
            ${this.linhas.map(e=>{if(e.quantidade>0)return e.html}).join(`
`)}
          </tbody>
        </table>
      </article>
        `}get $element(){return $(this.html)}}u(m,"LinhaTabela",class{constructor(e,t,a){u(this,"nome");u(this,"quantidade");u(this,"unidade");this.nome=e,this.quantidade=t,this.unidade=a}get html(){return`
                <tr class="linha-tabela">
                    <td>${this.nome}</td>
                    <td>${this.quantidade}</td>
                    <td>${this.unidade}</td>
                </tr>
            `}});var O=[];$('input[name="seq-secundaria"]').change(function(){if($("#formulario").empty(),O=[],$("#formulario").removeClass("hidden"),$(this).val()==="com-seq-secundaria"){let n=new U("Número de salas de equipamento:","numero-seqs-input",1,24,1,!1,1),e=new U("Número da sala de equipamentos principal:","seq-principal-input",1,1,1,!1,1);n.onUpdate(t=>{for(;O.length>t;){let a=O.pop();$("#"+a.id).remove()}for(;O.length<t;){let a=new x(O.length);O.push(a),a.$element.appendTo("#formulario")}$("#seq-principal-input").attr("max",t),parseInt($("#seq-principal-input").val())>t&&$("#seq-principal-input").val(t)}),n.$element.appendTo("#setup"),e.$element.appendTo("#setup"),O.push(new x(0))}else $("#numero-seqs-input-input-group").remove(),$("#seq-principal-input-input-group").remove(),O.push(new x(-1));O[0].$element.appendTo("#formulario"),$("body")[0].offsetHeight});function ee(n){let e=[];n.forEach(d=>e=e.concat(d.salasDeTelecom));let t=e.map(d=>d.areaDeTrabalho);n.forEach(d=>t.push(d.areaDeTrabalho));let a=new m.LinhaTabela(y.CAT6,0,p.UNIDADE),i=new Map,s=new Map;t.forEach(d=>{a.quantidade+=d.tomadasFemeas.quantidade,d.patchCords.forEach(b=>{let _=i.get(b.tipo);_==null?i.set(b.tipo,b):(_.quantidade+=b.quantidade,i.set(b.tipo,_))}),d.micelaneas.forEach(b=>{let _=s.get(b.tipo);_==null?s.set(b.tipo,b):(_.quantidade+=b.quantidade,s.set(_.tipo,_))})});let r=Array.from(i.values()).map(d=>new m.LinhaTabela(`Patch cord ${d.tipo} 3 metros`,d.quantidade,d.unidade)),l=Array.from(s.values()).map(d=>new m.LinhaTabela(d.tipo,d.quantidade,d.unidade));return[a,...r,...l]}function te(n){let e=[];n.forEach(h=>e=e.concat(h.salasDeTelecom));let t=0,a=new Map,i=new Map,s=new Map,r=new Map,l=new Map,d=new D(0,p.UNIDADE,q.CINZA_CAT7);e.forEach(h=>{t+=h.comprimentoMalhaHorizontal,h.pigtails.forEach(o=>{let c=a.get(o.tipo);c==null?a.set(o.tipo,o):(c.quantidade+=o.quantidade,a.set(c.tipo,c))}),h.cordoes.forEach(o=>{let c=i.get(o.tipo);c==null?i.set(o.tipo,o):(c.quantidade+=o.quantidade,i.set(c.tipo,c))}),h.acopladores.forEach(o=>{let c=s.get(o.tipo);c==null?s.set(o.tipo,o):(c.quantidade+=o.quantidade,s.set(c.tipo,c))}),h.micelaneas.forEach(o=>{let c=r.get(o.tipo);c==null?r.set(o.tipo,o):(c.quantidade+=o.quantidade,r.set(c.tipo,c))}),h.patchCables.forEach(o=>{let c=l.get(o.tipo);c!=null&&(o.quantidade+=c.quantidade),l.set(o.tipo,o)}),d.quantidade+=h.jumperCables.quantidade});const b=Array.from(a.values()).map(h=>new m.LinhaTabela(`Pigtail ${h.tipo}`,h.quantidade,h.unidade)),_=Array.from(i.values()).map(h=>new m.LinhaTabela(`Cordao ${h.tipo}`,h.quantidade,h.unidade)),E=Array.from(s.values()).map(h=>new m.LinhaTabela(`Acoplador ${h.tipo}`,h.quantidade,h.unidade)),R=new m.LinhaTabela(`MH ${q.BRANCO_CAT6}`,Math.ceil(t/305),p.CAIXA),w=Array.from(r.values()).map(h=>new m.LinhaTabela(h.tipo,h.quantidade,h.unidade)),N=Array.from(l.values()).map(h=>new m.LinhaTabela(`Patch Cable ${h.tipo} 3 metros`,h.quantidade,h.unidade)),T=new m.LinhaTabela(`Jumper cable ${d.tipo}`,d.quantidade,d.unidade);return[R,...N,T,...b,..._,...E,...w]}function ae(n){let e=0,t=new Map,a=new Map,i=new Map,s=new Map,r=new Map,l=new Map,d=new D(0,p.UNIDADE,q.CINZA_CAT7);n.forEach(o=>{e+=o.comprimentoMalhaHorizontal,o.pigtails.forEach(f=>{let A=t.get(f.tipo);A==null?t.set(f.tipo,f):(A.quantidade+=f.quantidade,t.set(A.tipo,A))}),o.cordoes.forEach(f=>{let A=a.get(f.tipo);A==null?a.set(f.tipo,f):(A.quantidade+=f.quantidade,a.set(A.tipo,A))}),o.acopladores.forEach(f=>{let A=i.get(f.tipo);A==null?i.set(f.tipo,f):(A.quantidade+=f.quantidade,i.set(A.tipo,A))}),o.micelaneas.forEach(f=>{let A=s.get(f.tipo);A==null?s.set(f.tipo,f):(A.quantidade+=f.quantidade,s.set(A.tipo,A))}),o.patchCables.forEach(f=>{let A=l.get(f.tipo);A!=null&&(f.quantidade+=A.quantidade),l.set(f.tipo,f)});let c=o.fibraBackbone,H=r.get(c.tipo);H!=null&&(c.quantidade+=H.quantidade),r.set(c.tipo,c),d.quantidade+=o.jumperCables.quantidade});const b=Array.from(t.values()).map(o=>new m.LinhaTabela(`Pigtail ${o.tipo}`,o.quantidade,o.unidade)),_=Array.from(a.values()).map(o=>new m.LinhaTabela(`Cordao ${o.tipo}`,o.quantidade,o.unidade)),E=Array.from(i.values()).map(o=>new m.LinhaTabela(`Acoplador ${o.tipo}`,o.quantidade,o.unidade)),R=Array.from(l.values()).map(o=>new m.LinhaTabela(`Patch Cable ${o.tipo} 3 metros`,o.quantidade,o.unidade)),w=new m.LinhaTabela(`MH ${q.BRANCO_CAT6}`,Math.ceil(e/305),p.CAIXA),N=Array.from(s.values()).map(o=>new m.LinhaTabela(o.tipo,o.quantidade,o.unidade)),T=new m.LinhaTabela(`Jumper cable ${d.tipo}`,d.quantidade,d.unidade),h=Array.from(r.values()).map(o=>new m.LinhaTabela(`${o.tipo} backbone`,o.quantidade,o.unidade));return[w,...R,T,...h,...b,..._,...E,...N]}function ie(n){let e=[];n.forEach(E=>e=e.concat(E.salasDeTelecom));let t=[...n,...e],a=new Map,i=new Map,s=new Map,r=new Map;t.forEach(E=>{E.racks.forEach(w=>{let N=a.get(`Rack ${w.altura}U ${w.aberto?"aberto":"fechado"}`);N==null?a.set(`Rack ${w.altura}U ${w.aberto?"aberto":"fechado"}`,1):a.set(`Rack ${w.altura}U ${w.aberto?"aberto":"fechado"}`,N+1),w.equipamentos.forEach(T=>{let h=i.get(T.tipo);h!=null&&(T.quantidade+=h.quantidade),i.set(T.tipo,T)}),w.componentes.forEach(T=>{let h=s.get(T.tipo);h!=null&&(T.quantidade+=h.quantidade),s.set(T.tipo,T)}),w.micelaneas.forEach(T=>{let h=r.get(T.tipo);h!=null&&(T.quantidade+=h.quantidade),r.set(T.tipo,T)})})});const l=Array.from(a).map(([E,R])=>new m.LinhaTabela(E,R,p.UNIDADE)),d=Array.from(i.values()).map(E=>new m.LinhaTabela(`${E.tipo} ${E.alturaUnitaria}U`,E.quantidade,p.UNIDADE)),b=Array.from(s.values()).map(E=>new m.LinhaTabela(`${E.tipo} ${E.alturaUnitaria}U`,E.quantidade,p.UNIDADE)),_=Array.from(r.values()).map(E=>new m.LinhaTabela(E.tipo,E.quantidade,E.unidade));return[...l,...d,...b,..._]}$("#gerar-tabela-btn").on("click",()=>{$("#tabelas").empty();let n=O.map(s=>s.carregarSalaEquipamentos());new m("Área de trabalho","tabela-area-de-trabalho","Itens quantificados na área de trabalho.",ee(n)).$element.appendTo("#tabelas"),new m("Salas de Telecomunicações","tabela-sala-telecom","Itens quantificados nas salas de telecomunicações",te(n)).$element.appendTo("#tabelas"),new m("Salas de Equipamentos","tabela-sala-equipamentos","Itens quantificados nas salas de equipamentos",ae(n)).$element.appendTo("#tabelas"),new m("Racks","tabela-racks","Itens quantificados nos racks",ie(n)).$element.appendTo("#tabelas")});
