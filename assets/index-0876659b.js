var B=Object.defineProperty;var z=(s,e,t)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var d=(s,e,t)=>(z(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();class x{constructor(e,t,a=-4144959,i=4144959,n=0,o=!0,l=1){d(this,"label");d(this,"id");d(this,"min");d(this,"max");d(this,"valueDefault");d(this,"nullable");d(this,"step");d(this,"$element");this.label=e,this.id=t,this.min=a,this.max=i,this.valueDefault=n,this.nullable=o,this.step=l,this.$element=$(this.html)}get html(){return`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          <input id="${this.id}" type="number" min="${this.min}" max="${this.max}" step="${this.step}" value="${this.valueDefault}">
        </label>
      </div>
    `}get isValid(){const e=this.value;return e===""&&this.nullable?!0:!(e<this.min||e>this.max)}onUpdate(e){this.$element.on("change",()=>{this.isValid&&e(this.value)})}get value(){}}class F extends x{get value(){return parseInt($("#"+this.id).val())}}class S extends x{get value(){return parseFloat($("#"+this.id).val())}}class Q{constructor(e,t,a=!1){d(this,"label");d(this,"id");d(this,"valueDefault");d(this,"$element");this.label=e,this.id=t,this.valueDefault=a,this.$element=$(this.html)}get html(){return`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          <input id='${this.id}' type="checkbox">
        </label>
      </div>
    `}get value(){return document.getElementById(this.id).checked}}class Z{constructor(e,t,a,i=void 0){d(this,"label");d(this,"itens");d(this,"keyDefault");d(this,"id");d(this,"$element");this.label=e,this.itens=t,this.id=a,this.keyDefault=i,this.$element=$(this.html)}get html(){let e=`<select id="${this.id}">`;for(const[t,a]of Object.entries(this.itens)){let i=this.keyDefault===t?"selected":"";e+=`<option value="${t}" ${i}>${a}</option>`}return e+="</select>",`
      <div id="${this.id}-input-group" class="input-group">
        <label id="${this.id}-label">
          ${this.label}
          ${e}
        </label>
      </div>
    `}get value(){const e=$("#"+this.id);return this.itens[e.val()]}}var D;(function(s){s.AZUL_CAT6="azul CAT6",s.VERMELHO_CAT6="vermelho CAT6",s.AMARELO_CAT6="amarelo CAT6",s.BRANCO_CAT6="branco CAT6",s.CINZA_CAT7="cinza CAT7"})(D||(D={}));var g;(function(s){s.CAT6="Conector femêa CAT6"})(g||(g={}));class f{static toTipoPatchCord(e){switch(e){case f.CFTV:return D.BRANCO_CAT6;case f.REDE:return D.AZUL_CAT6;case f.VOIP:default:return D.AMARELO_CAT6}}static toTipoPatchCable(e){switch(e){case f.CFTV:return D.VERMELHO_CAT6;case f.REDE:return D.AZUL_CAT6;case f.VOIP:default:return D.AMARELO_CAT6}}}f.REDE="Rede";f.CFTV="CFTV";f.VOIP="VoIP";class _{static getTipo(e,t){return e==T.FOMMIG_50_125?_.LC_DUPLO_MM_50_125:_.LC_SIMPLES_SM_9_125}}_.LC_DUPLO_MM_50_125="LC duplo MM 50x125µm";_.LC_SIMPLES_MM_50_125="LC simples MM 50x125µm";_.LC_DUPLO_SM_9_125="LC duplo SM 9x125µm";_.LC_SIMPLES_SM_9_125="LC simples SM 9x125µm";var m;(function(s){s[s.PATCH_PANEL_24=0]="PATCH_PANEL_24",s[s.PATCH_PANEL=1]="PATCH_PANEL",s[s.SWITCH_24=2]="SWITCH_24",s[s.DIO_24=3]="DIO_24",s[s.DIO_24_4=4]="DIO_24_4",s[s.TERMINADOR_OPTICO=5]="TERMINADOR_OPTICO",s[s.SVR_24=6]="SVR_24",s[s.EXAUSTOR=7]="EXAUSTOR",s[s.NO_BREAK=8]="NO_BREAK"})(m||(m={}));var w;(function(s){s[s.BANDEJA_FIXA=0]="BANDEJA_FIXA",s[s.BANDEJA_DESLIZANTE=1]="BANDEJA_DESLIZANTE",s[s.ORGANIZADOR_FRONTAL=2]="ORGANIZADOR_FRONTAL",s[s.BANDEJA_DE_EMENDA_12=3]="BANDEJA_DE_EMENDA_12"})(w||(w={}));var c;(function(s){s.METRO="metro",s.CAIXA="caixa",s.UNIDADE="unidade"})(c||(c={}));var q;(function(s){s.ETIQUETAS_IDENTIFICACAO="Etiquetas de identificação",s.ABRACADEIRAS="abraçadeiras",s.PORCAS_GAIOLAS="porcas gaiolas"})(q||(q={}));class T{static getTipoFibra(e){return e<=300?T.FOMMIG_50_125:T.FOSM_9_125}}T.FOMMIG_50_125="FOMMIG 50 x 125µm";T.FOSM_9_125="FOSM 9 x 125µm";class V extends Error{constructor(e){super(e),this.name="DistanciaInvalidaError"}}class J extends Error{constructor(e,t){super(e),this.altura=0,this.altura=t,this.name="DistanciaInvalidaError"}}class A{constructor(e,t,a){this.quantidade=e,this.unidade=t,this.tipo=a}}class y{constructor(e,t){this.quantidade=e,this.alturaUnitaria=t}}class O extends y{constructor(e,t,a){super(t,a),this.tipo=e}}class N extends y{constructor(e,t,a){super(t,a),this.tipo=e}}class M{constructor(e,t=!1){var a,i,n,o;this.equipamentos=new Map([...e]),this.componentes=new Map,this.micelaneas=new Map,t&&e.set(m.EXAUSTOR,new O(m.EXAUSTOR,1,1)),this.componentes.set(w.BANDEJA_DESLIZANTE,new N(w.BANDEJA_DESLIZANTE,1,1)),this.componentes.set(w.BANDEJA_FIXA,new N(w.BANDEJA_FIXA,1,1));let l=(i=(a=this.equipamentos.get(m.DIO_24))===null||a===void 0?void 0:a.quantidade)!==null&&i!==void 0?i:0;this.componentes.set(w.BANDEJA_DE_EMENDA_12,new N(w.BANDEJA_DE_EMENDA_12,l,0));let h=0;this.equipamentos.get(m.SWITCH_24)!=null&&(h=(o=(n=this.equipamentos.get(m.SWITCH_24))===null||n===void 0?void 0:n.quantidade)!==null&&o!==void 0?o:0,this.equipamentos.set(m.PATCH_PANEL_24,new O(m.PATCH_PANEL_24,h,1)),this.componentes.set(w.ORGANIZADOR_FRONTAL,new N(w.ORGANIZADOR_FRONTAL,h,1)),this.jumperCables=new A(h-1,c.UNIDADE,D.CINZA_CAT7));let v=this.alturaTotal;if(v>48)throw new J(`Tamanho do rack alcançou ${v} e 
                execedeu o limite recomendavel de 44U, 
                que deixaria 4 para expandir`,v);this.defineMicelaneas(h),Object.freeze(this)}defineMicelaneas(e){this.micelaneas.set(q.ETIQUETAS_IDENTIFICACAO,new A(e*24*2+e*2+e-1,c.UNIDADE,q.ETIQUETAS_IDENTIFICACAO)),this.micelaneas.set(q.PORCAS_GAIOLAS,new A(this.alturaTotal*4,c.UNIDADE,q.PORCAS_GAIOLAS))}static arredondaAltura(e){return e<=12?e+e%2:Math.ceil(e/4)*4}get alturaTotal(){let e=[...this.equipamentos.values(),...this.componentes.values()].reduce((t,a)=>t+a.alturaUnitaria,0)*1.5;return M.arredondaAltura(e)}}M.tamanhoMaximo=48;class j{constructor(e){this.patchCords=new Map,this.micelaneas=new Map,this.pontosTelecom=e}get pontosTelecom(){return this._pontosTelecom}set pontosTelecom(e){this._pontosTelecom=e;let t=0,a=0;e.forEach(i=>{t+=i.quantidade,a+=i.quantidade;let n=f.toTipoPatchCord(i.tipo);this.patchCords.set(n,new A(i.quantidade,c.UNIDADE,n))}),this.tomadasFemeas=new A(a,c.UNIDADE,g.CAT6),this.micelaneas.set(q.ETIQUETAS_IDENTIFICACAO,new A(a+a/2,c.UNIDADE,q.ETIQUETAS_IDENTIFICACAO))}get numeroDiciplinas(){return this.pontosTelecom==null?0:this.pontosTelecom.size}get numeroConectores(){return this.tomadasFemeas==null?0:this.tomadasFemeas.quantidade}}class H{constructor(e,t,a,i=!1){if(this.areaDeTrabalho=e,this.rackAberto=i,this.equipamentosAtivos=new Map,this.pigtails=new Map,this.cordoes=new Map,this.acopladores=new Map,this.micelaneas=new Map,t>90)throw new V("Distancia dos pontos de telecom até a sala de telecom não deve exeder 90 metros");this.comprimentoMalhaHorizontal=t,this.numeroPiso=a,this.defineAtivos()}save(){if(this.comprimentoMalhaHorizontal>90)throw new V("Distancia dos pontos de telecom até a sala de telecom não deve exeder 90 metros");this.defineAtivos()}defineAtivos(){this.equipamentosAtivos.set(m.SWITCH_24,new O(m.SWITCH_24,Math.ceil(this.areaDeTrabalho.numeroConectores/24),1));let e,t;this.fibrasOpticasRecebidas!=null&&(this.numeroFibras<=8?(this.equipamentos.set(m.TERMINADOR_OPTICO,new O(m.TERMINADOR_OPTICO,1,0)),e=_.getTipo(this.fibrasOpticasRecebidas.tipo,!0),t=this.numeroFibras/2):(this.equipamentos.set(m.DIO_24,new O(m.DIO_24,Math.ceil(this.numeroFibras/24),1)),e=_.getTipo(this.fibrasOpticasRecebidas.tipo,!1),t=this.numeroFibras),this.defineAcopladores(e,t))}defineAcopladores(e,t){this.pigtails.set(e,new A(t,c.UNIDADE,e)),this.cordoes.set(e,new A(t,c.UNIDADE,e)),this.acopladores.set(e,new A(t,c.UNIDADE,e))}get numeroFibras(){return this.areaDeTrabalho.numeroDiciplinas*4}get diciplinas(){let e=new Set;return this.areaDeTrabalho.pontosTelecom.forEach(t=>e.add(t.tipo)),e}get jumperCables(){var e;if(((e=this.equipamentosAtivos.get(m.SWITCH_24))===null||e===void 0?void 0:e.quantidade)==null)return;let a=this.racks.reduce((i,n)=>{var o,l;return i+((l=(o=n==null?void 0:n.jumperCables)===null||o===void 0?void 0:o.quantidade)!==null&&l!==void 0?l:0)},0);return new A(a,c.UNIDADE,D.CINZA_CAT7)}get equipamentos(){let e=new Map;return this.racks.forEach(t=>{t.equipamentos.forEach(a=>{let i=e.get(a.tipo);i!==void 0&&(i.quantidade+=a.quantidade,e.set(a.tipo,a))})}),e}get patchCables(){let e=new Map;return this.areaDeTrabalho.pontosTelecom.forEach(t=>{let a=f.toTipoPatchCable(t.tipo);e.set(a,new A(t.quantidade,c.UNIDADE,a))}),e}get racks(){let e=[];try{return[new M(this.equipamentosAtivos,this.rackAberto)]}catch(t){let a=1;for(;M.arredondaAltura(t.altura/a)<48;a++);const i=M.arredondaAltura(t.altura/a);let n=i,o=new Map;this.equipamentosAtivos.forEach(l=>{n-l.quantidade<0?(o.set(l.tipo,new O(l.tipo,n,l.alturaUnitaria)),e.push(new M(o)),o.clear(),o.set(l.tipo,new O(l.tipo,-(n-l.quantidade),l.alturaUnitaria)),n=i+n-l.quantidade):o.set(l.tipo,l)}),e.push(new M(o))}return e}}class G extends H{constructor(e,t,a,i,n,o=[],l=0,h=!1,v=12,E=T.FOSM_9_125){super(e,t,a,h=h),this.salasDeTelecom=n,this.salasDeEquipamento=o,this.distanciaSEQ=l,this.alturaAndares=i,this.defineFibrasOpticas(v,E),this.defineAtivos()}save(){super.save(),console.log("Meu pauuuuuuuuuu"),this.defineFibrasOpticas(),this.defineAtivos()}get tipoFibra(){var e,t,a,i;let n=0;if(this.salasDeEquipamento==null)return T.FOMMIG_50_125;if(((e=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||e===void 0?void 0:e.length)==0){let o=(t=this===null||this===void 0?void 0:this.salasDeTelecom)===null||t===void 0?void 0:t.slice().sort((l,h)=>l.numeroPiso-h.numeroPiso);n=Math.max(...o.map(l=>Math.abs(this.numeroPiso-l.numeroPiso+1)*this.alturaAndares))}else if(((a=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||a===void 0?void 0:a.length)!=0){let o=(i=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||i===void 0?void 0:i.slice().sort((l,h)=>l.distanciaSEQ-h.distanciaSEQ);n=Math.max(...o.map(l=>l.distanciaSEQ))}return T.getTipoFibra(n)}get diciplinas(){var e,t;let a=super.diciplinas;return(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(i=>{i.diciplinas.forEach(n=>a.add(n))}),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(i=>{i.diciplinas.forEach(n=>a.add(n))}),a}get numeroFibras(){var e,t;let a=0;return(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(i=>a+=i.numeroFibras),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(i=>a+=i.numeroFibras),a+=super.numeroFibras,a==0?super.numeroFibras:a}get fibraBackbone(){let e=0;return this.salasDeTelecom.slice().sort((i,n)=>i.numeroPiso-n.numeroPiso).forEach(i=>{e+=Math.abs(this.numeroPiso-i.numeroPiso+1)*this.alturaAndares}),this.salasDeEquipamento.slice().sort((i,n)=>i.distanciaSEQ-n.distanciaSEQ).forEach(i=>e+=i.distanciaSEQ),new A(e,c.METRO,this.tipoFibra)}defineAtivos(){var e,t;if(super.defineAtivos(),this.equipamentos.get(m.TERMINADOR_OPTICO)!=null&&this.equipamentos.delete(m.TERMINADOR_OPTICO),this.diciplinas.has(f.CFTV)){let i=0;(e=this===null||this===void 0?void 0:this.salasDeTelecom)===null||e===void 0||e.forEach(n=>{n.diciplinas.has(f.CFTV)&&(i+=2)}),(t=this===null||this===void 0?void 0:this.salasDeEquipamento)===null||t===void 0||t.forEach(n=>{n.diciplinas.has(f.CFTV)&&(i+=1)}),this.equipamentosAtivos.set(m.SVR_24,new O(m.SVR_24,Math.ceil(i/24),2))}this.equipamentosAtivos.set(m.DIO_24_4,new O(m.DIO_24,Math.ceil(this.numeroFibras/24),1));let a=_.getTipo(this.tipoFibra,!1);this.defineAcopladores(a,this.numeroFibras),this.equipamentosAtivos.set(m.DIO_24_4,new O(m.DIO_24_4,Math.ceil(this.numeroFibras/24)+1,1)),this.fibrasOpticasRecebidas!=null&&(a=_.getTipo(this.fibrasOpticasRecebidas.tipo,!1),this.defineAcopladores(a,this.fibrasOpticasRecebidas.quantidade))}defineFibrasOpticas(e=12,t=T.FOSM_9_125){let a=this.fibraBackbone.tipo;this.salasDeTelecom.forEach(i=>{i.fibrasOpticasRecebidas=new A(i.numeroFibras,c.UNIDADE,a),i.save(),console.log(i.pigtails)}),this.salasDeEquipamento.forEach(i=>{i.fibrasOpticasRecebidas=new A(i.numeroFibras,c.UNIDADE,a),i.save()}),this.fibrasOpticasRecebidas=new A(e,c.UNIDADE,t)}}class U{constructor(e){d(this,"numPavimento");d(this,"rackAbertoChecbox");d(this,"malhaHorizontalInput");d(this,"pontoRedeInput");d(this,"pontoCftvInput");d(this,"pontoVoipInput");d(this,"id");this.numPavimento=e,this.rackAbertoChecbox=new Q("Rack aberto:",`rack-aberto-${e}`,!1),this.malhaHorizontalInput=new S("Comprimento da malha horizontal:",`malha-horizontal-${e}`,1,90,10,!1,void 0),this.pontoRedeInput=new S("Pontos de rede:",`pontos-rede-${e}`,0,void 0,10,!1,void 0),this.pontoCftvInput=new S("Pontos de CFTV:",`pontos-cftv-${e}`,0,void 0,10,!1,void 0),this.pontoVoipInput=new S("Pontos de VoIP:",`pontos-voip-${e}`,0,void 0,10,!1,void 0),this.id=`pavimento-${e}`}get html(){return`
            <div id=${this.id} class="pavimento">
                <h3>Pavimento ${this.numPavimento+1}</h3>
                ${this.rackAbertoChecbox.html}
                ${this.malhaHorizontalInput.html}
                <div id="ponto-telecom-pavimento-${this.numPavimento}" class="pontos-telecom">
                    ${this.pontoRedeInput.html}
                    ${this.pontoCftvInput.html}
                    ${this.pontoVoipInput.html}
                </div>
            </div>
        `}get $element(){let e=$(`
            <div id=${this.id} class="pavimento">
                <h3>Pavimento ${this.numPavimento+1}</h3>
            </div>
        `);e.addClass("pavimento"),e.append(this.rackAbertoChecbox.$element),e.append(this.malhaHorizontalInput.$element);let t=$(`
            <div id="pontos-telecom-pavimento-${this.numPavimento}" class="pontos-telecom">
            </div>
        `);return t.append(this.pontoRedeInput.$element),t.append(this.pontoCftvInput.$element),t.append(this.pontoVoipInput.$element),e.append(t),e}get isValid(){let e=!0;return e=e&&this.malhaHorizontalInput.isValid,e=e&&this.pontoRedeInput.isValid,e=e&&this.pontoCftvInput.isValid,e=e&&this.pontoVoipInput.isValid,e}carregarSalaTelecom(){if(!this.isValid)return;const e=this.rackAbertoChecbox.value,t=this.malhaHorizontalInput.value,a=this.pontoRedeInput.value,i=this.pontoCftvInput.value,n=this.pontoVoipInput.value;try{let o=new Map;a>0&&o.set(f.REDE,new A(a,c.UNIDADE,f.REDE)),i>0&&o.set(f.CFTV,new A(i,c.UNIDADE,f.CFTV)),n>0&&o.set(f.VOIP,new A(n,c.UNIDADE,f.VOIP));let l=new j(o);return new H(l,t,this.numPavimento,e)}catch(o){console.error(o)}}}class R{constructor(e){d(this,"alturaAndarInput");d(this,"numeroPavimentosInput");d(this,"pavimentoPrincipalInput");d(this,"numeroFibrasRecebidasInput");d(this,"tipoFibraRecebidasSelectField");d(this,"numeroSEQ");d(this,"id");d(this,"pavimentos");this.numeroSEQ=e,this.id=`seq-${e}`,this.pavimentos=[new U(0)],this.alturaAndarInput=new S("Altura dos andares:","altura-andar-input",1,10,5,!1,1),this.numeroFibrasRecebidasInput=new F("Número de fibras recebidas:","numero-fibras-recebidas-input",4,24,4,!1,4),this.tipoFibraRecebidasSelectField=new Z("Tipo de fibra recebida:",{[T.FOMMIG_50_125]:"Fibra óptica Multimodo 50 x 125µm",[T.FOSM_9_125]:"Fibra óptica Monomodo 9 x 125µm"},"tipo-fibra-recebidas-select-field",T.FOSM_9_125),this.numeroPavimentosInput=new F("Número de pavimentos:","numero-pavimentos-input",1,24,1,!1,void 0),this.pavimentoPrincipalInput=new F("Pavimento principal:","pavimento-principal-input",1,1,1,!1,1),this.numeroPavimentosInput.onUpdate(t=>{let a=$(`#${this.id} .pavimento`);for(;this.pavimentos.length>t;)this.pavimentos.pop(),a.last().remove();for(;this.pavimentos.length<t;){let i=new U(this.pavimentos.length);this.pavimentos.push(i),$(`#${this.id} .seq-pavimentos`).append($(i.html))}$(`#${this.id} #pavimento-principal-input`).attr("max",t),parseInt($(`#${this.id} #pavimento-principal-input`).val())>t&&$(`#${this.id} #pavimento-principal-input`).val(t),$("body")[0].offsetHeight})}get html(){return`
            <article id="${this.id}" class="seq">
                <h2>Sala de equipamentos ${this.numeroSEQ>=0?this.numeroSEQ+1:""}</h2>
                <div class="seq-form">
                    ${this.tipoFibraRecebidasSelectField.html}
                    ${this.numeroFibrasRecebidasInput.html}
                    ${this.alturaAndarInput.html}
                    ${this.numeroPavimentosInput.html}
                    ${this.pavimentoPrincipalInput.html}
                </div>
                <div class="seq-pavimentos">
                    ${this.pavimentos.map(e=>e.html).join(`
`)}
                </div>
            </article>
        `}get $element(){let e=$(`<section id="${this.id}" class="seq"></section>`),t=$(`<h2>Sala de equipamentos ${this.numeroSEQ>=0?this.numeroSEQ+1:""}</h2>`);e.append(t);let a=$('<div class="seq-form"></div>');a.append(this.tipoFibraRecebidasSelectField.$element),a.append(this.numeroFibrasRecebidasInput.$element),a.append(this.alturaAndarInput.$element),a.append(this.numeroPavimentosInput.$element),a.append(this.pavimentoPrincipalInput.$element),e.append(a);let i=$('<div class="seq-pavimentos"></div>');return this.pavimentos.forEach(n=>i.append(n.$element)),e.append(i),e}get isValid(){let e=!0;return e=e&&this.numeroFibrasRecebidasInput.isValid,e=e&&this.alturaAndarInput.isValid,e=e&&this.numeroPavimentosInput.isValid,e=e&&this.pavimentoPrincipalInput.isValid&&this.pavimentoPrincipalInput.value<=this.numeroPavimentosInput.value,e=e&&this.pavimentos.every(t=>t.isValid),e}carregarSalaEquipamentos(){if(!this.isValid)return;let e=this.pavimentos.map(h=>h.carregarSalaTelecom()),t=[];$("#seq-principal-input")!=null&&parseInt($("#seq-principal-input").val())-1===this.numeroSEQ&&(t=[]);const a=this.alturaAndarInput.value,i=this.pavimentoPrincipalInput.value-1,n=this.numeroFibrasRecebidasInput.value,o=this.tipoFibraRecebidasSelectField.value;let l=e[i];return new G(l.areaDeTrabalho,l.comprimentoMalhaHorizontal,i,a,e,t,0,l.rackAberto,n,o)}}class I{constructor(e,t,a,i){d(this,"titulo");d(this,"descricao");d(this,"id");d(this,"linhas");this.titulo=e,this.id=t,this.descricao=a,this.linhas=i}get html(){return`
      <article id="${this.id}">
        <h2>${this.titulo}</h2>
        <p>${this.descricao}</p>
        <table>
          <thead>
            <th>Nome</th>
            <th>Quantidade</th>
            <th>Unidade</th>
          </thead>
          <tbody>
            ${this.linhas.map(e=>{if(e.quantidade>0)return e.html}).join(`
`)}
          </tbody>
        </table>
      </article>
        `}get $element(){return $(this.html)}}d(I,"LinhaTabela",class{constructor(e,t,a){d(this,"nome");d(this,"quantidade");d(this,"unidade");this.nome=e,this.quantidade=t,this.unidade=a}get html(){return`
                <tr class="linha-tabela">
                    <td>${this.nome}</td>
                    <td>${this.quantidade}</td>
                    <td>${this.unidade}</td>
                </tr>
            `}});var C=[];console.log(g.CAT6);$('input[name="seq-secundaria"]').change(function(){if($("#formulario").empty(),C=[],$("#formulario").removeClass("hidden"),$(this).val()==="com-seq-secundaria"){let s=new F("Número de salas de equipamento:","numero-seqs-input",1,24,1,!1,1),e=new F("Número da sala de equipamentos principal:","seq-principal-input",1,1,1,!1,1);s.onUpdate(t=>{for(;C.length>t;){let a=C.pop();$("#"+a.id).remove()}for(;C.length<t;){let a=new R(C.length);C.push(a),a.$element.appendTo("#formulario")}$("#seq-principal-input").attr("max",t),parseInt($("#seq-principal-input").val())>t&&$("#seq-principal-input").val(t)}),s.$element.appendTo("#setup"),e.$element.appendTo("#setup"),C.push(new R(0))}else $("#numero-seqs-input-input-group").remove(),$("#seq-principal-input-input-group").remove(),C.push(new R(-1));C[0].$element.appendTo("#formulario"),$("body")[0].offsetHeight});function X(s){let e=[];s.forEach(h=>e=e.concat(h.salasDeTelecom));let t=e.map(h=>h.areaDeTrabalho),a=new I.LinhaTabela(g.CAT6,0,c.UNIDADE),i=new Map,n=new Map;t.forEach(h=>{a.quantidade+=h.tomadasFemeas.quantidade,h.patchCords.forEach(v=>{let E=i.get(v.tipo);E==null?i.set(v.tipo,v):(E.quantidade+=v.quantidade,i.set(v.tipo,E))}),h.micelaneas.forEach(v=>{let E=n.get(v.tipo);E==null?n.set(v.tipo,v):(E.quantidade+=v.quantidade,n.set(E.tipo,E))})});let o=Array.from(i.values()).map(h=>new I.LinhaTabela(`Patch cord ${h.tipo} 3 metros`,h.quantidade,h.unidade)),l=Array.from(n.values()).map(h=>new I.LinhaTabela(h.tipo,h.quantidade,h.unidade));return[a,...o,...l]}function W(s){let e=[];s.forEach(r=>e=e.concat(r.salasDeTelecom));let t=0,a=new Map,i=new Map,n=new Map,o=new Map,l=new A(0,c.UNIDADE,D.CINZA_CAT7);e.forEach(r=>{t+=r.comprimentoMalhaHorizontal,r.pigtails.forEach(u=>{let b=a.get(u.tipo);b==null?a.set(u.tipo,u):(b.quantidade+=u.quantidade,a.set(b.tipo,b))}),r.cordoes.forEach(u=>{let b=i.get(u.tipo);b==null?i.set(u.tipo,u):(b.quantidade+=u.quantidade,i.set(b.tipo,b))}),r.acopladores.forEach(u=>{let b=n.get(u.tipo);b==null?n.set(u.tipo,u):(b.quantidade+=u.quantidade,n.set(b.tipo,b))}),r.micelaneas.forEach(u=>{let b=o.get(u.tipo);b==null?o.set(u.tipo,u):(b.quantidade+=u.quantidade,o.set(b.tipo,b))}),l.quantidade+=r.jumperCables.quantidade});const h=Array.from(a.values()).map(r=>new I.LinhaTabela(`Pigtail ${r.tipo}`,r.quantidade,r.unidade)),v=Array.from(i.values()).map(r=>new I.LinhaTabela(`Cordao ${r.tipo}`,r.quantidade,r.unidade)),E=Array.from(n.values()).map(r=>new I.LinhaTabela(`Acoplador ${r.tipo}`,r.quantidade,r.unidade)),L=new I.LinhaTabela(`MH ${D.BRANCO_CAT6}`,Math.ceil(t/305),c.CAIXA),P=Array.from(o.values()).map(r=>new I.LinhaTabela(r.tipo,r.quantidade,r.unidade)),p=new I.LinhaTabela(`Jumper cable ${l.tipo}`,l.quantidade,l.unidade);return s.forEach(r=>console.log(r.pigtails)),[L,p,...h,...v,...E,...P]}function K(s){let e=0,t=new Map,a=new Map,i=new Map,n=new Map,o=new A(0,c.UNIDADE,D.CINZA_CAT7);s.forEach(p=>{e+=p.comprimentoMalhaHorizontal,p.pigtails.forEach(r=>{let u=t.get(r.tipo);u==null?t.set(r.tipo,r):(u.quantidade+=r.quantidade,t.set(u.tipo,u))}),p.cordoes.forEach(r=>{let u=a.get(r.tipo);u==null?a.set(r.tipo,r):(u.quantidade+=r.quantidade,a.set(u.tipo,u))}),p.acopladores.forEach(r=>{let u=i.get(r.tipo);u==null?i.set(r.tipo,r):(u.quantidade+=r.quantidade,i.set(u.tipo,u))}),p.micelaneas.forEach(r=>{let u=n.get(r.tipo);u==null?n.set(r.tipo,r):(u.quantidade+=r.quantidade,n.set(u.tipo,u))}),o.quantidade+=p.jumperCables.quantidade});const l=Array.from(t.values()).map(p=>new I.LinhaTabela(`Pigtail ${p.tipo}`,p.quantidade,p.unidade)),h=Array.from(a.values()).map(p=>new I.LinhaTabela(`Cordao ${p.tipo}`,p.quantidade,p.unidade)),v=Array.from(i.values()).map(p=>new I.LinhaTabela(`Acoplador ${p.tipo}`,p.quantidade,p.unidade)),E=new I.LinhaTabela(`MH ${D.BRANCO_CAT6}`,Math.ceil(e/305),c.CAIXA),L=Array.from(n.values()).map(p=>new I.LinhaTabela(p.tipo,p.quantidade,p.unidade)),P=new I.LinhaTabela(`Jumper cable ${o.tipo}`,o.quantidade,o.unidade);return s.forEach(p=>console.log(p.pigtails)),[E,P,...l,...h,...v,...L]}$("#gerar-tabela-btn").on("click",()=>{$("#tabelas").empty();let s=C.map(i=>i.carregarSalaEquipamentos());new I("Área de trabalho","tabela-area-de-trabalho","Itens quantificados na área de trabalho.",X(s)).$element.appendTo("#tabelas"),new I("Salas de Telecomunicações","tabela-sala-telecom","Itens quantificados nas salas de telecomunicações",W(s)).$element.appendTo("#tabelas"),new I("Salas de Equipamentos","tabela-sala-equipamentos","Itens quantificados nas salas de equipamentos",K(s)).$element.appendTo("#tabelas")});
